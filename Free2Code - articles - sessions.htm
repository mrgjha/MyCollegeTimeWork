<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<!-- saved from url=(0057)http://www.free2code.net/plugins/articles/read.php?id=184 -->
<HTML><HEAD><TITLE>Free2Code - articles - sessions</TITLE>
<META http-equiv=Content-Type content="text/html; charset=utf-8">
<META http-equiv=Content-Script-Type content=text/javascript>
<META http-equiv=Content-Style-Type content=text/css><LINK 
href="Free2Code - articles - sessions_files/style.php" type=text/css 
rel=stylesheet><!-- FASTCLICK.COM POP-UNDER CODE v1.7e for free2code.net -->
<SCRIPT language=javascript type=text/javascript><!--
var doc=document;  var url=escape(doc.location.href); var date_ob=new Date();
doc.cookie='h2=o; path=/;';var bust=date_ob.getSeconds();
if(doc.cookie.indexOf('e=llo') <= 0 && doc.cookie.indexOf('2=o') > 0){
doc.write('<scr'+'ipt language="javascript" src="http://media.fastclick.net');
doc.write('/w/pop.cgi?sid=9771&m=2&v=1.7e&u='+url+'&c='+bust+'"><'+'/scr'+'ipt>');
date_ob.setTime(date_ob.getTime()+43200000);
doc.cookie='he=llo; path=/; expires='+ date_ob.toGMTString();} // -->
</SCRIPT>
<!-- FASTCLICK.COM POP-UNDER CODE v1.7e for free2code.net -->
<SCRIPT src="Free2Code - articles - sessions_files/_igsys01.js" 
type=text/javascript></SCRIPT>

<META content="MSHTML 6.00.2600.0" name=GENERATOR></HEAD>
<BODY>
<TABLE 
style="BACKGROUND-IMAGE: url(/themes/free2code/images/top_bg.png); MARGIN-BOTTOM: 4px" 
cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD>&nbsp;&nbsp;</TD>
    <TD><IMG alt="" 
      src="Free2Code - articles - sessions_files/top_item_start.png"></TD>
    <TD class=topitem vAlign=center><A 
      href="http://www.free2code.net/">Free2Code</A></TD>
    <TD><IMG alt="" 
      src="Free2Code - articles - sessions_files/top_item_end.png"></TD>
    <TD>&nbsp;&nbsp;</TD>
    <TD><IMG alt="" 
      src="Free2Code - articles - sessions_files/top_item_start.png"></TD>
    <TD class=topitem vAlign=center><A 
      href="http://www.free2code.net/plugins/articles/read.php?id=184#">WebWorks</A></TD>
    <TD><IMG alt="" 
      src="Free2Code - articles - sessions_files/top_item_end.png"></TD>
    <TD>&nbsp;&nbsp;</TD>
    <TD><IMG alt="" 
      src="Free2Code - articles - sessions_files/top_item_start.png"></TD>
    <TD class=topitem vAlign=center><A 
      href="http://www.free2code.net/plugins/forums/">Forums</A></TD>
    <TD><IMG alt="" 
      src="Free2Code - articles - sessions_files/top_item_end.png"></TD>
    <TD width="100%">&nbsp;</TD>
    <TD><IMG alt="" 
      src="Free2Code - articles - sessions_files/top_item_start.png"></TD>
    <TD><IMG alt="" 
      src="Free2Code - articles - sessions_files/top_google_piece.png"></TD>
    <TD class=topitem style="PADDING-BOTTOM: 3px" vAlign=bottom>
      <FORM 
      style="PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; MARGIN: 0px; PADDING-TOP: 0px" 
      action=http://www.google.com/search method=get target=_blank><INPUT 
      type=hidden value=en name=hl><INPUT type=hidden value=UTF-8 name=ie><INPUT 
      type=hidden value=Google+Search name=btnG><INPUT type=hidden 
      name=meta><INPUT 
      style="BORDER-RIGHT: #4c4c4c 1px solid; PADDING-RIGHT: 1px; BORDER-TOP: #4c4c4c 1px solid; PADDING-LEFT: 1px; FONT-SIZE: 10px; PADDING-BOTTOM: 1px; MARGIN: 0px; BORDER-LEFT: #4c4c4c 1px solid; PADDING-TOP: 1px; BORDER-BOTTOM: #4c4c4c 1px solid; BACKGROUND-COLOR: #ffffff" 
      name=q></FORM></TD>
    <TD><IMG alt="" 
      src="Free2Code - articles - sessions_files/top_item_end.png"></TD>
    <TD>&nbsp;&nbsp;</TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD 
    style="PADDING-RIGHT: 4px; PADDING-LEFT: 4px; PADDING-BOTTOM: 4px; PADDING-TOP: 4px" 
    vAlign=top rowSpan=2><IMG alt="" 
      src="Free2Code - articles - sessions_files/logo.gif"></TD>
    <TD 
    style="PADDING-RIGHT: 0px; PADDING-LEFT: 0px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px" 
    vAlign=bottom align=right>
      <TABLE cellSpacing=0 cellPadding=0 border=0>
        <TBODY>
        <TR>
          <TD style="PADDING-RIGHT: 20px; FONT-SIZE: 10px; PADDING-TOP: 2px" 
          vAlign=bottom align=right><A 
            href="http://www.spreadfirefox.com/?q=affiliates&amp;id=18968&amp;t=61" 
            target=_blank><IMG title="Get Firefox!" alt="Get Firefox!" 
            src="Free2Code - articles - sessions_files/trust.gif" border=0></A> 
            &nbsp;&nbsp;&nbsp;&nbsp; <A 
            href="http://www.lumenlab.com/?referrer=f2c" target=_blank><IMG 
            title="Lumenlab DIY LCD Video Projector" 
            alt="Lumenlab DIY LCD Video Projector" 
            src="Free2Code - articles - sessions_files/ll_diylcd.png" 
            border=0></A> </TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD align=right>
  <TR>
    <TD 
    style="PADDING-RIGHT: 3px; PADDING-LEFT: 3px; PADDING-BOTTOM: 3px; PADDING-TOP: 3px" 
    align=right></TD></TR>
  <TR>
    <TD 
    style="BACKGROUND-IMAGE: url(/themes/free2code/images/menubarthing.gif); PADDING-TOP: 12px; HEIGHT: 39px" 
    vAlign=top colSpan=2>
      <TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
        <TBODY>
        <TR>
          <TD><IMG alt=" " 
          src="Free2Code - articles - sessions_files/sep.gif"></TD>
          <TD class=mnuitm noWrap><A 
            style="FONT-WEIGHT: bold; FONT-SIZE: 10px; COLOR: #136; TEXT-DECORATION: none" 
            onclick="javascript:window.open('http://myguestmap.lorca.eti.br/guestmap.jsp?id=terminal','_blank','width=944,height=590,toolbar=0,menubar=0,resizable=0,location=0,status=0,scrollbars=0,directories=0'); &#10;return false;" 
            href="http://www.free2code.net/plugins/articles/read.php?id=184#">View 
            Guestmap</A></TD>
          <TD><IMG alt=" " 
          src="Free2Code - articles - sessions_files/sep.gif"></TD>
          <TD style="FONT-SIZE: 9px" align=right width="100%">Iraqi Info 
            Minister: "Those Iraqi fighters are slapping those gangsters on the 
            face, and then when they flee, they will kick their backsides." 
        </TD></TR>
        <TR>
          <TD colSpan=4><IMG alt=" " 
            src="Free2Code - articles - sessions_files/topfix.gif"></TD></TR></TBODY></TABLE></TD></TR></TBODY></TABLE>
<TABLE cellSpacing=0 cellPadding=0 width="100%" border=0>
  <TBODY>
  <TR>
    <TD 
    style="FONT-SIZE: 12px; BACKGROUND-IMAGE: url(/themes/free2code/images/sidebg.gif); COLOR: #222277; BACKGROUND-REPEAT: repeat-y; BACKGROUND-COLOR: transparent" 
    vAlign=top>
      <DIV>
      <DIV class=menucatstart>Main Menu</DIV>
      <DIV class=menucatcontent><A class=menulink 
      href="http://www.free2code.net/">- Home</A><BR><A class=menulink 
      href="http://www.free2code.net/plugins/articles/index.php">- 
      Articles</A><BR><A class=menulink 
      href="http://www.free2code.net/plugins/forums/index.php">- 
      Forums</A><BR><A class=menulink 
      href="http://www.free2code.net/plugins/cms/index.php?page=1">- 
      Donate</A><BR></DIV>
      <DIV class=menucatstart>Login/Register</DIV>
      <DIV class=menucatcontent><A class=menulink 
      href="http://www.free2code.net/members/login.php">- Login</A><BR><A 
      class=menulink href="http://www.free2code.net/members/join.php">- 
      Register</A><BR></DIV>
      <DIV 
      style="PADDING-RIGHT: 14px; PADDING-LEFT: 14px; FONT-SIZE: 9px; PADDING-BOTTOM: 14px; COLOR: #efefef; PADDING-TOP: 14px; BACKGROUND-COLOR: transparent">
      <DIV style="PADDING-LEFT: 10px; FONT-SIZE: 11px; PADDING-TOP: 3px"><A 
      style="COLOR: #ffffff" href="http://www.lightningservers.net/" 
      target=_blank>Reseller Hosting</A><BR><BR><A style="COLOR: #ffffff" 
      href="http://www.icongalore.com/" target=_blank>Icons</A> </DIV><BR>
      <DIV style="PADDING-LEFT: 5px">
      <SCRIPT type=text/javascript><!--
google_ad_client = "pub-2946507306871651";
google_ad_width = 120;
google_ad_height = 600;
google_ad_format = "120x600_as";
google_ad_type = "text";
google_ad_channel ="1499840566";
google_color_border = "3F7498";
google_color_bg = "EFF4F7";
google_color_link = "0000BB";
google_color_url = "009000";
google_color_text = "000000";
//--></SCRIPT>

      <SCRIPT src="Free2Code - articles - sessions_files/show_ads.js" 
      type=text/javascript>
</SCRIPT>
      </DIV></DIV>
      <DIV style="PADDING-LEFT: 20px; FONT-SIZE: 11px; PADDING-TOP: 3px"><A 
      style="COLOR: #ffffff" href="http://www.sydney-web-development.com/" 
      target=_blank>Sydney Web Development</A></DIV><BR>
      <DIV style="PADDING-LEFT: 20px; FONT-SIZE: 11px; PADDING-TOP: 3px"><A 
      style="COLOR: #ffffff" href="http://www.sitehole.com/" 
      target=_blank>SiteHole - Hosting<BR>with 
      attitude</A></DIV><BR><BR><BR></DIV></TD>
    <TD 
    style="PADDING-RIGHT: 15px; PADDING-LEFT: 15px; FONT-SIZE: 13px; PADDING-BOTTOM: 15px; PADDING-TOP: 15px" 
    vAlign=top width="100%"><!-- main content starts here - end of 'themes.free2code' header --><A 
      href="http://www.free2code.net/">Free2Code</A> » <A 
      href="http://www.free2code.net/plugins/articles/index.php">articles</A> » 
      <A href="http://www.free2code.net/plugins/articles/?cat=1">Programming</A> 
      » <A href="http://www.free2code.net/plugins/articles/?cat=4">PHP</A> » <A 
      href="http://www.free2code.net/plugins/articles/read.php?id=184">sessions</A><BR><BR>
      <H3>sessions</H3>
      <P>We've had a few requests for tutorials on what "sessions" are and how 
      they work. So in this tutorial I'll show what they are, how they work and 
      how you can make good use of them.</P>
      <P>This tutorial underlines sessions in general, but I use PHP for the 
      code, this is why this tutorial is in the PHP category.</P>
      <H3 style="WIDTH: 97%; COLOR: #000; BORDER-BOTTOM: #000 1px solid">What 
      are sessions?</H3>
      <P>To understand what sessions are and what they're good for, it helps if 
      you've had some experence with a CGI scripting language and have used 
      cookies from time to time. So why do we use cookies? Consider below.</P>
      <FORM action=""><TEXTAREA rows=7 cols=70>&lt;?php

$name = 'Jester';

?&gt;</TEXTAREA></FORM>
      <P>What do we do if we wish to carry that variable to another script? Then 
      another script after that? We have to propagate it, right?</P>
      <FORM action=""><TEXTAREA rows=7 cols=70>&lt;a href="/another_script.php?name=&lt;?php echo $name; ?&gt;"&gt;another script&lt;/a&gt;</TEXTAREA></FORM>
      <P>Then re-assign it to $name:</P>
      <FORM 
      action=""><TEXTAREA rows=7 cols=70>$name = $_GET['name'];</TEXTAREA></FORM>
      <P>Doing this over and over is tiresome and annoying. So we set a 
      cookie:</P>
      <FORM action=""><TEXTAREA rows=7 cols=70>setcookie('name', 'Jester');</TEXTAREA></FORM>
      <P>Then we can re-assign the cookie to the variable $name <EM>without</EM> 
      having to pass it along through the scripts manually. It's available to us 
      in all our scripts, it makes things alot easier. We now have this variable 
      containing the value we choose ready for us to use. Yet, there's still a 
      snag: what if a user chooses not to accept cookies? This is where sessions 
      come in.</P>
      <H3 style="WIDTH: 97%; COLOR: #000; BORDER-BOTTOM: #000 1px solid">The 
      "Session ID"</H3>
      <P>When a session is started each user is assigned a unique "session id". 
      Now how this session ID is stored depends on whether or not the user 
      accepts cookies or not.</P>
      <UL>
        <LI>If the user accepts cookies, the session ID is stored in a cookie, 
        whose name is pre-determined. 
        <LI>If the user doesn't accept cookies, the session ID is propagated 
        through each script via the query string or form inputs. </LI></UL>
      <P>But, we still have the problem of the no-cookie thing you ask? Well 
      yes, but... imagine we want to set 20 variables, progagating all of those 
      from script to script would be <EM>really</EM> annoying, with sessions we 
      merely pass the one "session id" value. As long as the user has their 
      session id we can set variables that will then be associated with their 
      session id and available to us.</P>
      <H3 style="WIDTH: 97%; COLOR: #000; BORDER-BOTTOM: #000 1px solid">How it 
      works</H3>
      <P>When the user's session starts, they're assigned a "session id", this 
      we know so far. When their session is started a file is created on the 
      server-side, this file contains all the user's session variables and is 
      associated with them by their session id. Session variables are not stored 
      in cookies, they are <STRONG>not</STRONG> propagated through the query 
      string and form inputs, they are stored in a file on the server-side. The 
      whole reason we assign them a session id is so we know which file belongs 
      to who.</P>
      <FORM action=""><TEXTAREA rows=7 cols=70>
John starts a session

He is assigned the session id: 12345678

File created in session folder: sess_12345678

</TEXTAREA></FORM>
      <P>This file now "belongs" to John. If we assign session variables to him, 
      as long as he has his session id, we can associate him with that file, 
      extract the variabels from it and there we have it: variables that can be 
      preserved across multiple requests.</P>
      <H3 style="WIDTH: 97%; COLOR: #000; BORDER-BOTTOM: #000 1px solid">Sounds 
      too complex, though</H3>
      <P>That's the good thing about using sessions with PHP, all this is done 
      is for you. All the sessions stuff is handled by PHP and the web server in 
      the background making them extremely easy to implement. Even if users have 
      cookies off you can set PHP up to automatically propagate the session id 
      through your scripts for you. It automatically sticks the session ID in 
      your links and in hidden form inputs, preserving the user's session id 
      this allowing their file -- containing their variables -- to be associated 
      with them.</P>
      <H3 
      style="WIDTH: 97%; COLOR: #000; BORDER-BOTTOM: #000 1px solid">Practical 
      Use</H3>
      <P>If my inane yapping has gotten the basics across to you we can now look 
      at a practical example.</P>
      <FORM action=""><TEXTAREA rows=7 cols=70>&lt;?php

session_start(); // start session

$_SESSION['name'] = 'Jester';

?&gt;</TEXTAREA></FORM>
      <P>It's as simple as that. We must first start the session using the 
      function <CODE>session_start()</CODE>, once we do that the user is 
      assigned their session id which will then be available to scripts via a 
      cookie or through the query string and form inputs. We're then free to 
      assign them values, so if a user then goes to another script we just 
      retrieve it.</P>
      <FORM action=""><TEXTAREA rows=7 cols=70>&lt;?php

session_start();

echo 'Hello '.$_SESSION['name'];

?&gt;</TEXTAREA></FORM>
      <P>To create a session variable just stick it in the $_SESSION array, to 
      retrieve it just drag it from the $_SESSION array. session_start() starts 
      a session for the user.</P>
      <P><STRONG>Remember</STRONG>: You must <EM>always</EM> use 
      "session_start()" in your script if you want to use the $_SESSION array. 
      session_start() does not only start a user's session, but it continues a 
      current session. session_start() is used to get the user's session ID and 
      associate it with their file, thus loading the variables frm the file into 
      $_SESSION, if you do not use session_start() the $_SESSION values will not 
      be available. This also aplies to destroying the session, you must 
      start/resume it before you can destroy it.</P>
      <FORM action=""><TEXTAREA rows=7 cols=70>&lt;?php

session_start();

unset($_SESSION['name']);

session_destroy();

?&gt;</TEXTAREA></FORM>
      <P>We can use the unset() function to get rid of session variables, and 
      the session_destroy() function to get rid of the session id altogether, 
      effectively killing the user's session and any variables associated with 
      their session id.</P>
      <P>Why when you login to a site, do you stay logged in? You have a 
      session, until this session is destroyed the username and password you 
      submitted are session variables which are then used in each script to 
      authenticate your login. When you hit "logout", your session is killed and 
      you must login again.</P>
      <P>With the login system on axion-network I decided not to allow users who 
      don't accept cookies to login. I did this for various reasons. Most of 
      axion-network is HTML compliant and the automatic progagation of the 
      session ID for users with cookies disabled can cause HTML errors. Also the 
      session id existing in the query string poses security risks and can lead 
      to sessions being "stolen". Be advised this is not a limitation of 
      sessions, sessions work with cookies off, it's just me being paranoid.</P>
      <H3 
      style="WIDTH: 97%; COLOR: #000; BORDER-BOTTOM: #000 1px solid">Remember</H3>
      <UL>
        <LI>Session variables are not cookies, the session id is (normally). 
        <LI>We can use sessions to associate a user with a file on the server 
        side which contains their variables. 
        <LI>We can destroy the users' sessions and kill all associated 
        variables. </LI></UL>
      <H3 
      style="WIDTH: 97%; COLOR: #000; BORDER-BOTTOM: #000 1px solid">References</H3>
      <P>This was just a very brief explanation (well, an attempt at one) of 
      sessions. See the links below to look deeper into them.</P>
      <UL>
        <LI><A title="Read PHP.net's explanation" 
        href="http://www.php.net/manual/en/ref.session.php" 
        target=_blank>PHP.net session reference</A> 
        <LI><A title="More on sessions" 
        href="http://www-3.ibm.com/software/webservers/appserv/doc/v40/ae/infocenter/was/0011.html" 
        target=_blank>Another, "what are sessions?"</A> 
        <LI><A title="Learn how to create a login system with PHP and sessions" 
        href="http://www.free2code.net/tutorials/php/phplogin" 
        target=_blank>What are they good for?</A> </LI></UL>
      <TABLE cellSpacing=0 cellPadding=0 width="100%" align=center>
        <TBODY>
        <TR>
          <TD class=blank vAlign=top align=left width="50%">
            <DIV>
            <H3>Related Articles</H3></DIV></TD>
          <TD class=blank vAlign=top align=left width="50%">
            <DIV>
            <H3>Follow-up Articles</H3></DIV></TD></TR>
        <TR>
          <TD class=blank vAlign=top align=left width="50%">
            <DIV>
            <UL>
              <LI><A 
              href="http://www.free2code.net/plugins/articles/read.php?id=14">PHP 
              Basics</A>
              <LI><A 
              href="http://www.free2code.net/plugins/articles/read.php?id=48">Basic 
              hit counter in PHP</A>
              <LI><A 
              href="http://www.free2code.net/plugins/articles/read.php?id=50">PHP 
              File operations</A>
              <LI><A 
              href="http://www.free2code.net/plugins/articles/read.php?id=51">PHP 
              Cookies</A>
              <LI><A 
              href="http://www.free2code.net/plugins/articles/read.php?id=80">Basics 
              to php&amp;mysql</A>
              <LI><A 
              href="http://www.free2code.net/plugins/articles/read.php?id=83">PHP 
              Cookies</A>
              <LI><A 
              href="http://www.free2code.net/plugins/articles/read.php?id=84">PHP 
              file handling</A>
              <LI><A 
              href="http://www.free2code.net/plugins/articles/read.php?id=85">PHP 
              functions</A>
              <LI><A 
              href="http://www.free2code.net/plugins/articles/read.php?id=87">PHP 
              arrays</A>
              <LI><A 
              href="http://www.free2code.net/plugins/articles/read.php?id=110">guidelines</A></LI></UL></DIV></TD>
          <TD class=blank vAlign=top align=left width="50%">
            <DIV>
            <UL>
              <LI><A 
              href="http://www.free2code.net/plugins/articles/read.php?id=381">PHP 
              Classes -- OOP</A>
              <LI><A 
              href="http://www.free2code.net/plugins/articles/read.php?id=428">Functions, 
              Classes, and Objects -- Oh 
      My!</A></LI></UL></DIV></TD></TR></TBODY></TABLE>
      <H3>Article Information</H3>
      <UL>
        <LI><STRONG>Date added to database</STRONG>: Thu 01 Jan, 1970
        <LI><STRONG>Number of times read</STRONG>: 67652
        <LI><STRONG>Article rating</STRONG>: this article has not been 
        rated.</LI></UL><!-- main content ends here - start of 'themes.plain' footer -->
      <P align=center>[ generated in 50.4ms | executed 12 queries ]</P></TD>
    <TD vAlign=top>
    <TD style="PADDING-TOP: 5px" vAlign=top>
      <DIV 
      style="BORDER-RIGHT: #448ccb 1px solid; BORDER-TOP: #448ccb 1px solid; BORDER-LEFT: #448ccb 1px solid; MARGIN-RIGHT: 3px; BORDER-BOTTOM: #448ccb 1px solid">
      <DIV 
      style="FONT-SIZE: 10px; COLOR: #003663; BORDER-BOTTOM: #448ccb 1px solid; BACKGROUND-COLOR: #7da7d9; TEXT-ALIGN: center">Advertising</DIV>
      <DIV 
      style="PADDING-RIGHT: 0px; PADDING-LEFT: 0px; FONT-SIZE: 11px; PADDING-BOTTOM: 0px; PADDING-TOP: 0px; FONT-FAMILY: geneva,arial"><A 
      href="http://www.icongalore.com/" target=_blank><IMG alt=icons 
      src="Free2Code - articles - sessions_files/120x600.gif" border=0></A> 
      </DIV>
      <DIV 
      style="BORDER-TOP: #448ccb 1px solid; FONT-SIZE: 10px; COLOR: #003663; BACKGROUND-COLOR: #7da7d9; TEXT-ALIGN: center">Advertisting</DIV></DIV><BR><BR><BR></TD></TD></TR></TBODY></TABLE>
<P style="BORDER-TOP: #000 1px solid; MARGIN-TOP: 0px; FONT-SIZE: 11px" 
align=center>Copyright © Free2Code Online<BR>Please view our <A 
href="http://www.free2code.net/privacy.php">Privacy Policy</A><BR></P>
<SCRIPT src="Free2Code - articles - sessions_files/urchin.js" 
type=text/javascript>
</SCRIPT>

<SCRIPT type=text/javascript>
_uacct = "UA-220839-1";
urchinTracker();
</SCRIPT>
</BODY></HTML>
